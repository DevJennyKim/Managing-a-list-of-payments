<div class="hidden md:block overflow-x-auto">
  <table mat-table [dataSource]="payments" class="mat-elevation-z8">
    <ng-container matColumnDef="fullname">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let payment">
        {{ payment.payee_first_name }} {{ payment.payee_last_name }}
      </td>
    </ng-container>

    <ng-container matColumnDef="paymentStatus">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let payment">
        {{ payment.payee_payment_status }}
      </td>
    </ng-container>

    <ng-container matColumnDef="dueDate">
      <th mat-header-cell *matHeaderCellDef>Due Date</th>
      <td mat-cell *matCellDef="let payment">{{ payment.payee_due_date }}</td>
    </ng-container>

    <ng-container matColumnDef="address">
      <th mat-header-cell *matHeaderCellDef>Address</th>
      <td mat-cell *matCellDef="let payment">
        {{ payment.payee_address_line_1 }} {{ payment.payee_address_line_2 }}
      </td>
    </ng-container>

    <ng-container matColumnDef="location">
      <th mat-header-cell *matHeaderCellDef>Location</th>
      <td mat-cell *matCellDef="let payment">
        {{ payment.payee_city }}, {{ payment.payee_province_or_state }},
        {{ payment.payee_country }}
      </td>
    </ng-container>

    <ng-container matColumnDef="phoneNumber">
      <th mat-header-cell *matHeaderCellDef>Phone</th>
      <td mat-cell *matCellDef="let payment">
        {{ payment.payee_phone_number }}
      </td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef>Email</th>
      <td mat-cell *matCellDef="let payment">{{ payment.payee_email }}</td>
    </ng-container>

    <ng-container matColumnDef="currency">
      <th mat-header-cell *matHeaderCellDef>Currency</th>
      <td mat-cell *matCellDef="let payment">{{ payment.currency }}</td>
    </ng-container>

    <ng-container matColumnDef="dueAmount">
      <th mat-header-cell *matHeaderCellDef>Due Amount</th>
      <td mat-cell *matCellDef="let payment">{{ payment.due_amount }}</td>
    </ng-container>
    <ng-container matColumnDef="edit">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let btns">
        <button
          class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700 transition duration-200"
        >
          Edit
        </button>
      </td>
    </ng-container>
    <ng-container matColumnDef="delete">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let btns">
        <button
          class="bg-red-400 text-white px-4 py-2 rounded hover:bg-red-700 transition duration-200"
        >
          Delete
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>

<div class="block md:hidden">
  <div
    *ngFor="let payment of payments"
    class="border p-4 mb-4 rounded-lg shadow-md bg-white"
  >
    <h3 class="text-xl font-semibold">
      {{ payment.payee_first_name }} {{ payment.payee_last_name }}
    </h3>
    <p><strong>Status:</strong> {{ payment.payee_payment_status }}</p>
    <p><strong>Due Date:</strong> {{ payment.payee_due_date }}</p>
    <p>
      <strong>Address:</strong> {{ payment.payee_address_line_1 }}
      {{ payment.payee_address_line_2 }}
    </p>
    <p>
      <strong>Location:</strong> {{ payment.payee_city }},
      {{ payment.payee_province_or_state }},
      {{ payment.payee_country }}
    </p>
    <p><strong>Phone:</strong> {{ payment.payee_phone_number }}</p>
    <p><strong>Email:</strong> {{ payment.payee_email }}</p>
    <p><strong>Currency:</strong> {{ payment.currency }}</p>
    <p><strong>Due Amount:</strong> ${{ payment.due_amount }}</p>
    <div class="flex justify-between">
      <button
        class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700 transition duration-200"
      >
        Edit
      </button>
      <button
        class="bg-red-400 text-white px-4 py-2 rounded hover:bg-red-700 transition duration-200"
      >
        Delete
      </button>
    </div>
  </div>
</div>

<div class="pagination mt-4">
  <button
    *ngFor="let page of [].constructor(totalPages); let i = index"
    [class.active]="currentPage === i + 1"
    (click)="onPageChange(i + 1)"
  >
    {{ i + 1 }}
  </button>
</div>
